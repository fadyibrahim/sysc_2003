                        .module assign53.C
                        .area memory(abs)
                        .org 0x3f8c
 3F8C           _interrupt_vectors::
 3F8C F8CF              .word 63695
 3F8E F8CF              .word 63695
 3F90 F8CF              .word 63695
 3F92 F8CF              .word 63695
 3F94 F8CF              .word 63695
 3F96 F8CF              .word 63695
 3F98 F8CF              .word 63695
 3F9A F8CF              .word 63695
 3F9C F8CF              .word 63695
 3F9E F8CF              .word 63695
 3FA0 F8CF              .word 63695
 3FA2 F8CF              .word 63695
 3FA4 F8CF              .word 63695
 3FA6 F8CF              .word 63695
 3FA8 F8CF              .word 63695
 3FAA F8CF              .word 63695
 3FAC F8CF              .word 63695
 3FAE F8CF              .word 63695
 3FB0 F8CF              .word 63695
 3FB2 F8CF              .word 63695
 3FB4 F8CF              .word 63695
 3FB6 F8CF              .word 63695
 3FB8 F8CF              .word 63695
 3FBA F8CF              .word 63695
 3FBC F8CF              .word 63695
 3FBE F8CF              .word 63695
 3FC0 F8CF              .word 63695
 3FC2 F8CF              .word 63695
 3FC4 F8CF              .word 63695
 3FC6 F8CF              .word 63695
 3FC8 F8CF              .word 63695
 3FCA F8CF              .word 63695
 3FCC F8CF              .word 63695
 3FCE F8CF              .word 63695
 3FD0 F8CF              .word 63695
 3FD2 0053              .word _tempINT
 3FD4 F8CF              .word 63695
 3FD6 F8CF              .word 63695
 3FD8 F8CF              .word 63695
 3FDA F8CF              .word 63695
 3FDC F8CF              .word 63695
 3FDE F8CF              .word 63695
 3FE0 F8CF              .word 63695
 3FE2 F8CF              .word 63695
 3FE4 F8CF              .word 63695
 3FE6 F8CF              .word 63695
 3FE8 F8CF              .word 63695
 3FEA F8CF              .word 63695
 3FEC F8CF              .word 63695
 3FEE F8CF              .word 63695
 3FF0 F8CF              .word 63695
 3FF2 F8CF              .word 63695
 3FF4 F8C7              .word 63687
 3FF6 F8C3              .word 63683
 3FF8 F8CB              .word 63691
 3FFA F805              .word 63493
 3FFC F809              .word 63497
 3FFE 0000              .word __start
 4000                   .dbfile M:\Sysc 2003\Assignment 5/vectors_dp256_NoICE2.c
 4000                   .dbsym e interrupt_vectors _interrupt_vectors A[116:58]pfV
                        .area data
 0000                   .dbfile M:\Sysc 2003\Assignment 5/vectors_dp256_NoICE2.c
 0000           _ready::
 0000                   .blkb 2
                        .area idata
 0000 0001              .word 1
                        .area data
 0002                   .dbfile M:\Sysc 2003\Assignment 5/vectors_dp256_NoICE2.c
 0002                   .dbfile assign53.C
 0002                   .dbsym e ready _ready I
                        .area text
 0000                   .dbfile assign53.C
 0000                   .dbfunc e main _main fV
 0000           _main::
 0000 34                pshx
 0001 B775              tfr s,x
 0003 1B9E              leas -2,sp
 0005                   .dbline -1
 0005                   .dbline 12
 0005           ; #include "hcs12dp256.h"
 0005           ; #include <stdio.h>
 0005           ; #include "vectors_dp256_NoICE2.c"
 0005           ; 
 0005           ; #pragma interrupt_handler tempINT()
 0005           ; void tempINT(void);
 0005           ; 
 0005           ; int temper;
 0005           ; int ready=1;
 0005           ; 
 0005           ; void main(void)
 0005           ; {
 0005                   .dbline 13
 0005           ; SPI1CR1=0;
 0005 7900F0            clr 0xf0
 0008                   .dbline 14
 0008           ; DDRM=0x80;
 0008 C680              ldab #128
 000A 7B0252            stab 0x252
 000D                   .dbline 15
 000D           ; ATD0CTL2=0xFA;
 000D C6FA              ldab #250
 000F 7B0082            stab 0x82
 0012                   .dbline 16
 0012           ; ATD0CTL3=0x00;
 0012 790083            clr 0x83
 0015                   .dbline 17
 0015           ; ATD0CTL4=0x60;
 0015 C660              ldab #96
 0017 7B0084            stab 0x84
 001A                   .dbline 18
 001A           ; ATD0CTL5=0x86;
 001A C686              ldab #134
 001C 7B0085            stab 0x85
 001F                   .dbline 19
 001F           ; asm("cli");
 001F 10EF                      cli
 0021           
 0021 202A              bra L5
 0023           L4:
 0023                   .dbline 21
 0023           ; while (1==1)
 0023           ; {
 0023                   .dbline 23
 0023           ; 
 0023           ; if (temper<=100 && ready==1)
 0023 FC0000            ldd _temper
 0026 8C0064            cpd #100
 0029 2E0E              bgt L7
 002B FC0000            ldd _ready
 002E 8C0001            cpd #1
 0031 2606              bne L7
 0033                   .dbline 24
 0033           ; {
 0033                   .dbline 25
 0033           ; PTM|=0x80;
 0033 1C025080          bset 0x250,#128
 0037                   .dbline 26
 0037           ; }
 0037 2009              bra L8
 0039           L7:
 0039                   .dbline 28
 0039           ; else
 0039           ; {
 0039                   .dbline 29
 0039           ; ready=0;
 0039 CC0000            ldd #0
 003C 7C0000            std _ready
 003F                   .dbline 30
 003F           ; PTM=0x00;
 003F 790250            clr 0x250
 0042                   .dbline 31
 0042           ; }
 0042           L8:
 0042                   .dbline 32
 0042 1801800000        movw _temper,0,sp
 0047 CC0097            ldd #L9
 004A 160000            jsr _printf
 004D                   .dbline 33
 004D           L5:
 004D                   .dbline 20
 004D 20D4              bra L4
 004F           X0:
 004F                   .dbline -2
 004F                   .dbline 35
 004F           ; printf("Temp= %d \n",temper);
 004F           ; }
 004F           ; 
 004F           ; }
 004F           L3:
 004F B757              tfr x,s
 0051 30                pulx
 0052                   .dbline 0 ; func end
 0052 3D                rts
 0053                   .dbend
 0053                   .dbfunc e tempINT _tempINT fV
 0053           ;              i -> -4,x
 0053           ;          tempT -> -2,x
 0053           _tempINT::
 0053 34                pshx
 0054 B775              tfr s,x
 0056 1B9A              leas -6,sp
 0058                   .dbline -1
 0058                   .dbline 38
 0058           ; 
 0058           ; void tempINT(void)
 0058           ; {
 0058                   .dbline 41
 0058           ; int tempT;
 0058           ; int i;
 0058           ; tempT=ATD0DR6H<<8;
 0058                   ; vol
 0058 F6009C            ldab 0x9c
 005B 87                clra
 005C 180F              tba
 005E C7                clrb
 005F 6C1E              std -2,x
 0061                   .dbline 42
 0061           ; tempT&=0x03FF;
 0061 EC1E              ldd -2,x
 0063 8403              anda #3
 0065 C4FF              andb #255
 0067 6C1E              std -2,x
 0069                   .dbline 43
 0069           ; tempT+=ATD0DR6L;
 0069                   ; vol
 0069 F6009D            ldab 0x9d
 006C 87                clra
 006D 6C1A              std -6,x
 006F EC1E              ldd -2,x
 0071 E31A              addd -6,x
 0073 6C1E              std -2,x
 0075                   .dbline 44
 0075           ; tempT=tempT/8;
 0075 EC1E              ldd -2,x
 0077 CD0008            ldy #8
 007A B7D6              exg x,y
 007C 1815              idivs
 007E B7D6              exg x,y
 0080 6D1E              sty -2,x
 0082                   .dbline 45
 0082           ; tempT=tempT-5;
 0082 EC1E              ldd -2,x
 0084 830005            subd #5
 0087 6C1E              std -2,x
 0089                   .dbline 46
 0089           ; temper=tempT;
 0089 18051E0000        movw -2,x,_temper
 008E                   .dbline 47
 008E           ; ATD0CTL5=0x86;
 008E C686              ldab #134
 0090 7B0085            stab 0x85
 0093                   .dbline -2
 0093                   .dbline 48
 0093           ; }
 0093           L10:
 0093 B757              tfr x,s
 0095 30                pulx
 0096                   .dbline 0 ; func end
 0096 0B                rti
 0097                   .dbsym l i -4 I
 0097                   .dbsym l tempT -2 I
 0097                   .dbend
                        .area bss
 0000                   .dbfile assign53.C
 0000           _temper::
 0000                   .blkb 2
 0002                   .dbsym e temper _temper I
                        .area text
 0097                   .dbfile assign53.C
 0097           L9:
 0097 54656D703D202564200A00    .byte 'T,'e,'m,'p,61,32,37,'d,32,10,0
